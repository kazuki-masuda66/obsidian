# OTSV business trip（24-25/8）

## Titanメンバーの状況

- 普段のやり取りでOTSV側から打ち合わせするのは2,3人のため、開発メンバーの実態が把握できていなかったが、実際はOTSV12人(トレーニング中含む)＋OTSV⇒MTIの委託で＋3人の15人の体制。Titan用に大きな1部屋が専用で用意されている。
- スクラムマスターは今年5月入社だが、話してみるととても優秀。
- 開発メンバーもとても意欲的で良いが、全般的にとても若く大学出て2,3年のメンバーが大半というイメージで若干経験不足はありそう。チームの雰囲気はとても良い。
- Scrumのフレームワークをしっかり適用していて、普段のスプリントを彼らがどう回しているか把握できた。
- OTSK時代のレガシーコードが性能や生産性に大きく影響を与えていて、コードをリファクタリングしたいと思っているが、ビジネスチームが全然聞いてくれないと感じている。

## 実施した打ち合わせ

- SMとの打ち合わせ
    - Scrum概要
    - Titanプロジェクトでの適用実例、各種打ち合わせについて説明を受ける
    - Titanプロジェクトで使っているツール（特にJiraの使い方）についてレクチャーを受ける
    
- Agile についてOTSVのシニアSMからレクチャー

- PPO（proxy product owner）との打ち合わせ
    - Product backlog, Sprint Backlogについてすり合わせ
    - 直近の懸念事項について共有（POとの距離感。PPOの1一人であるThaoさん（MTI所属）が本人の意向で離任する。）

## Titanの状況

- Titanの課題（Tenderの処理部分）
    - Input
        - 取り込み（☓、Unstructuredだと全く取り込めない）
        - マッピング（△、手でポチポチマッピングしないといけない）
        - OPUSコード変換
    - Output
        - 元ファイルへコード変換
        - 元ファイルへマッピング
        - ファイル出力（作り直しているので、もともとのEXCELの様々な書式が再現できないというのが課題になっている）
- Titanのカバレッジ
    - Pure Titan⇒10％以下
    - 直近のTitan workable⇒40％
        - Titan workableには下記の2点が含まれている（Manual conversion）
            - Semi-automation：手作業でデータを修正（複数Tabのデータをユニオンしたり）したり、カラムを追加したりした後にTitanに取り込む
            - Simplified Sales format：Titanの固定フォーマットに手作業で変えてもらって取り込むを行う

## Titan Back log

- Tiger/Titan integration
- Simplified Workflow(9/16に完成予定)
- 10月4日以降の開発は要検討

## 今後の開発の方向性

### 方向性

- On shoreから可能な限りOff shoreへ移行していく
- データの変換はプロであるETLに任せる（Titanで無理に作らない）
- TitanはSimplified formatを活用して、OPUSコードへの変換に特化する

### 短期

- 変換を行うETLを選定する（Alteryx, Tableau Prep, Google Sheet)
    
    
    |  | 提供フォーム | メリット | デメリット |
    | --- | --- | --- | --- |
    | Alteryx | ・アプリ型
    ・Server型
    ・SDK | ・変換に関しては一番高機能
    ・SDK等が提供されていて拡張性がある | ・使うのが少し難易度高い
    ・ライセンス代が高い
    ・1個1個設定をしていかないといけない、変更があるとその設定を見直さないといけない |
    | Tableau Prep | ・アプリ型のみ | ・変換に必要な機能はある
    ・ライセンスは無料（ONEはDesktopのライセンスをかなり保持していると想定） | ・使う難易度はAlteryxより簡易
    ・1個1個設定をしていかないといけない、変更があるとその設定を見直さないといけない |
    | Google Sheet | ・Webサービス | ・無料
    ・各種関数等習熟コストは高くない
    ・設定変更は柔軟に対応できる | ・1個1個設定をしていかないといけない
    ・膨大な数のGoogle Sheetが出来上がってしまう |
- フローイメージは以下の通り
    1. TenderをETLでTitanフォーマットに変換
    2. ⇒Titanで取り込み（Simplified format）、OPUSコードへ変換
    3. ⇒TigerでPricingしTitanへ
    4. ⇒Titan Simplified formatでExport
    5. ⇒マニュアルで元のTenderシートに貼り付けてお客さんに返す、もしくはETLで変換の逆を行って元シートを作り直す
    
    ※初回フォーマットの設定には時間がかかってしまうが、次回以降はフォーマットがかわらなければ素早く実施可能
    
    ※SalesにETLの変換をやってもらうのは難易度が高いため、まずは上記フローはOff shoreに持っていくことが前提となる
    
    ※ただし、ETLはセルフサービス型と謳っているので将来的には一部の営業にトレーニングして習熟するのはありだが、その場合ライセンスも膨らみそう（？）
    
    ※Offshoreサイドとしてもデータ変換に強くなると今後Titan以外にも活用できる機会は増えてくると想定
    
    ### 道田さんコメント
    
    - 過去のTenderを受領して変換を事前に組み始めておく、去年のテンプレートという形でユーザに提供できるようにする（Tenderを受け取ってから作業を始めたらとても間に合わない）
    - 上記についていつ誰が何をするかアレンジする（In out含めて）
    - Off shoreはもうあるものを解析し始める。On shoreのテンダーはユーザからもらって解析する
    - オフショアである程度マニュアルでやるのは仕方ない（リソース追加して、プロセスで対応するのも1手段と考えるべき）

### 中長期（要検討）

- AlteryxをTitanに組込むことを検討する（これを実施できるETL候補はAlteryxのみ）
    - すべての処理をTitan上で完結させる
        - Alteryxのサーバーを立てて、Titanと連携させる
- フローイメージは以下の通り
    - Titanにログインして、Tender取り込みメニュー押下
    - 自動でAlteryxにシングルサインオンして、ファイル加工画面を表示
    - Runを押下すると、抽出が始まり、Simplified formatの形になったあと、AlteryxサーバーからTitanサーバーに送信
    - Simplified formatで自動で取り込まれて、OPUSへの変換画面が表示される
    - Tigerに連携してTigerでPricingしTitanへ
    - Tenderへの戻りは前処理で実施したことの逆をプログラムで実行する、もしくは、元Tenderのターゲットカラムを特定して、そこを埋める処理を実施する（ただし、現行のTitanはすべてのデータを作り直す仕様になっている）
    
    ※技術的な難易度が高い。Alteryx ServerやSDKに強い人材がMustで、OTSVとの連携が必要。
    
    ※短期の方でAlteryxの変換を実施た場合、その変換内容の移行が可能
    
    ※Titanでのカバレッジは限りなく高めることが可能
    
    ※ここまでやるならNVOもこのフローに載せたほうが良さそう
    
    ### 道田さんコメント
    
    - 長期的にはTitanをつぶして、ETLに1本化するのもあり。AlteryxでできないことがTitanでできるなら残す価値はあるが、Opusへの変換も含めてAlteryxでできるなら残す意味がない。